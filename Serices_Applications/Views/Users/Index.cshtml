@model IEnumerable<Microsoft.AspNetCore.Identity.IdentityUser>

@* @model IEnumerable<Domain.Entities.AppUser> *@

@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<br />

<br />
<h2>
    <center>
        System Users
    </center>
</h2>
<div class="row" style="text-align:end">
    <div class="col-md-10">

    </div>
    <div class="col-md-2">
        <a href="/users/create"><button class="btn btn-success">create user<i class="fa fa-user"></i> </button> </a>
    </div>
</div>
<br />
<table class="table table-striped table-hover" id="UserTable">
    <thead class="table-primary">
        <th>user name</th>
        <th>user Email</th>
        <th>phone</th>
        <th  style="text-align:center">operations</th>
    </thead>
    <tbody>
        @foreach (var user in Model)
        {
            if (user.Email == "m@m.com")
            {

            }
            else
            {
                <tr>
                    <td>@user.UserName</td>
                <td>@user.Email</td>
                <td>@user.PhoneNumber</td>
                <td>
                    <center>
                        <a href="users/Edit/@user.Id" title="Edit user">  <i class="fa fa-edit fa-2x" aria-hidden="true"></i> </a> &nbsp;&nbsp;&nbsp;
                        @if(user.EmailConfirmed == true){
                            <a href="/users/Disableuser/@user.Id" title="disable user"> <i class="fa-solid fa-ban fa-2x" aria-hidden="true" style="color:red"></i> </a>
                        }
                        else
                        {
                            <a href="/users/Aciveuser/@user.Id" title="Acive user"> <i class="fa-solid fa-circle-check fa-2x" aria-hidden="true" style="color:green"></i> </a>
                        }                           
                    </center>
                </td>
            </tr>
            }
        }
    </tbody>
</table>
<br />
<br />
<br />
<br />



@section Scripts {
    <partial name="_NotificationPartial" />

    <script>
        let table = new DataTable('#UserTable');
    </script>
        

    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");

    }

}
